import{d as b,u as C,r as t,c as m,a as s,b as M,e as a,w as l,f as g,g as c,t as N,o as w,h as S,i as y,j as z,l as B,k as I,s as K,_ as L}from"./index-CjC9TpiK.js";const R={class:"login-container"},U={class:"login-card"},j={class:"form-area"},D={class:"input-group"},E={class:"input-group"},O={class:"actions"},P={key:0,class:"error-msg"},T=b({__name:"Login",setup(q){const h=S(),V=C(),n=t(""),r=t(""),i=t(!1),o=t(""),p=t(),k=()=>{p.value?.focus()},_=async()=>{if(!n.value||!r.value){o.value="请输入用户名和密码";return}i.value=!0,o.value="";try{const{user:u,error:e}=await K.loginOrRegister(n.value,r.value);e?o.value=e.message:u&&(await V.fetchMeta(),h.push("/"))}catch(u){o.value=u.message||"登录发生未知错误"}finally{i.value=!1}};return(u,e)=>{const f=c("el-icon"),v=c("el-input"),x=c("el-button");return w(),m("div",R,[s("div",U,[e[4]||(e[4]=s("div",{class:"logo-area"},[s("h1",null,"Resume Matcher"),s("p",{class:"subtitle"},"企业级智能招聘系统")],-1)),s("div",j,[s("div",D,[a(v,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=d=>n.value=d),placeholder:"用户名",size:"large",onKeyup:g(k,["enter"])},{prefix:l(()=>[a(f,null,{default:l(()=>[a(y(z))]),_:1})]),_:1},8,["modelValue"])]),s("div",E,[a(v,{ref_key:"passwordInput",ref:p,modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=d=>r.value=d),type:"password",placeholder:"密码",size:"large","show-password":"",onKeyup:g(_,["enter"])},{prefix:l(()=>[a(f,null,{default:l(()=>[a(y(B))]),_:1})]),_:1},8,["modelValue"])]),s("div",O,[a(x,{type:"primary",size:"large",loading:i.value,class:"action-btn",onClick:_},{default:l(()=>[...e[2]||(e[2]=[I(" 进入系统 ",-1)])]),_:1},8,["loading"])]),e[3]||(e[3]=s("p",{class:"hint"},"如果是新用户，系统将自动为您注册。",-1)),o.value?(w(),m("p",P,N(o.value),1)):M("",!0)])])])}}}),F=L(T,[["__scopeId","data-v-f1971075"]]);export{F as default};
